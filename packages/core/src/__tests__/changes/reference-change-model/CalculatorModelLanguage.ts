// Generated by the Freon Language Generator.
// Generated by Freon LanguageTemplate

import { FreNodeReference} from "../../../ast/index.js";
import {
    FreLanguage,
    type FreLanguageModel,
    type FreLanguageModelUnit,
    type FreLanguageProperty,
    type FreLanguageConcept,
    type FreLanguageInterface
} from "../../../language/index.js";
// Import as MyLanguage to avoid naming conflicts in generated constructors
import * as MyLanguage from "./internal.js";
// import { CalculatorModelStdlib } from "../../stdlib/gen/CalculatorModelStdlib.js";

/**
 * Creates an in-memory representation of structure of the language metamodel, used in e.g. the (de)serializer.
 */
export function initializeLanguage() {
    FreLanguage.getInstance().name = "CalculatorModel";
    FreLanguage.getInstance().id = "";
    FreLanguage.getInstance().addModel(describeCalculatorModel());
    FreLanguage.getInstance().addUnit(describeCalculator());
    FreLanguage.getInstance().addConcept(describeInputField());
    FreLanguage.getInstance().addConcept(describeOutputField());
    FreLanguage.getInstance().addConcept(describeInputFieldReference());
    FreLanguage.getInstance().addConcept(describeCalcExpression());
    FreLanguage.getInstance().addConcept(describeLiteralExpression());
    FreLanguage.getInstance().addConcept(describeNumberLiteralExpression());
    FreLanguage.getInstance().addConcept(describeBinaryExpression());
    FreLanguage.getInstance().addConcept(describePlusExpression());
    FreLanguage.getInstance().addInterface(describeINamedConcept());
    FreLanguage.getInstance().addReferenceCreator((name: string, type: string) => {
        return !!name ? FreNodeReference.create(name, type) : null;
    });
    // FreLanguage.getInstance().stdLib = CalculatorModelStdlib.getInstance();
}

function describeCalculatorModel(): FreLanguageModel {
    const model: FreLanguageModel = {
        typeName: "CalculatorModel",
        id: "-id-CalculatorModel",
        key: "-key-CalculatorModel",
        isNamespace: true,
        language: "-key-calculator",
        constructor: (id?: string) => {
            return new MyLanguage.CalculatorModel(id);
        },
        creator: (data: Partial<MyLanguage.CalculatorModel>) => {
            return MyLanguage.CalculatorModel.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
    };
    model.properties.set("name", {
        name: "name",
        id: "-id-CalculatorModel-name",
        key: "-key-CalculatorModel-name",
        type: "string",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "primitive",
    });
    model.properties.set("calc", {
        name: "calc",
        id: "-id-CalculatorModel-calc",
        key: "-key-CalculatorModel-calc",
        type: "Calculator",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });

    return model;
}

function describeCalculator(): FreLanguageModelUnit {
    const modelunit: FreLanguageModelUnit = {
        typeName: "Calculator",
        id: "-id-Calculator",
        key: "-key-Calculator",
        isNamedElement: true,
        isNamespace: false,
        language: "-key-calculator",
        fileExtension: "cal",
        subConceptNames: [], // Nothing yet, but may change in the future
        constructor: (id?: string) => {
            return new MyLanguage.Calculator(id);
        },
        creator: (data: Partial<MyLanguage.Calculator>) => {
            return MyLanguage.Calculator.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        trigger: "Calculator",
    };
    modelunit.properties.set("name", {
        name: "name",
        id: "-id-Calculator-name",
        key: "-key-Calculator-name",
        type: "string",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "primitive",
    });
    modelunit.properties.set("inputFields", {
        name: "inputFields",
        id: "-id-Calculator-inputFields",
        key: "-key-Calculator-inputFields",
        type: "InputField",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });
    modelunit.properties.set("outputFields", {
        name: "outputFields",
        id: "-id-Calculator-outputFields",
        key: "-key-Calculator-outputFields",
        type: "OutputField",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });

    return modelunit;
}

function describeInputField(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "InputField",
        id: "-id-InputField",
        key: "-key-InputField",
        isAbstract: false,
        isPublic: true,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: true,
        trigger: "InputField",
        constructor: (id?: string) => {
            return new MyLanguage.InputField(id);
        },
        creator: (data: Partial<MyLanguage.InputField>) => {
            return MyLanguage.InputField.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: null,
        subConceptNames: [],
    };
    concept.properties.set("name", {
        name: "name",
        id: "-id-INamedConcept-name",
        key: "-key-INamedConcept-name",
        type: "string",
        isList: false,
        isOptional: false, // false,
        isPublic: true,
        language: "-key-calculator",
        propertyKind: "primitive",
    });

    return concept;
}

function describeOutputField(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "OutputField",
        id: "-id-OutputField",
        key: "-key-OutputField",
        isAbstract: false,
        isPublic: true,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: false,
        trigger: "OutputField",
        constructor: (id?: string) => {
            return new MyLanguage.OutputField(id);
        },
        creator: (data: Partial<MyLanguage.OutputField>) => {
            return MyLanguage.OutputField.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: null,
        subConceptNames: [],
    };

    concept.properties.set("expression", {
        name: "expression",
        id: "-id-OutputField-expression",
        key: "-key-OutputField-expression",
        type: "CalcExpression",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });

    return concept;
}

function describeInputFieldReference(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "InputFieldReference",
        id: "-id-InputFieldReference",
        key: "-key-InputFieldReference",
        isAbstract: false,
        isPublic: true,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: false,
        trigger: "InputFieldReference",
        constructor: (id?: string) => {
            return new MyLanguage.InputFieldReference(id);
        },
        creator: (data: Partial<MyLanguage.InputFieldReference>) => {
            return MyLanguage.InputFieldReference.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: "CalcExpression",
        subConceptNames: [],
    };

    concept.properties.set("field", {
        name: "field",
        id: "-id-InputFieldReference-field",
        key: "-key-InputFieldReference-field",
        type: "InputField",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "reference",
    });
    return concept;
}

function describeCalcExpression(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "CalcExpression",
        id: "-id-CalcExpression",
        key: "-key-CalcExpression",
        isAbstract: true,
        isPublic: false,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: false,
        trigger: "CalcExpression",
        constructor: (id?: string) => {
            return null;
        },
        creator: (data: Partial<MyLanguage.CalcExpression>) => {
            return null;
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: null,
        subConceptNames: [
            "InputFieldReference",
            "LiteralExpression",
            "NumberLiteralExpression",
            "BinaryExpression",
            "MultiplyExpression",
            "PlusExpression",
            "MinusExpression",
            "DivideExpression",
        ],
    };

    return concept;
}

function describeLiteralExpression(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "LiteralExpression",
        id: "-id-LiteralExpression",
        key: "-key-LiteralExpression",
        isAbstract: true,
        isPublic: false,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: false,
        trigger: "LiteralExpression",
        constructor: (id?: string) => {
            return null;
        },
        creator: (data: Partial<MyLanguage.LiteralExpression>) => {
            return null;
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: "CalcExpression",
        subConceptNames: ["NumberLiteralExpression"],
    };

    return concept;
}

function describeNumberLiteralExpression(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "NumberLiteralExpression",
        id: "-id-NumberLiteralExpression",
        key: "-key-NumberLiteralExpression",
        isAbstract: false,
        isPublic: true,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: false,
        trigger: "NumberLiteralExpression",
        constructor: (id?: string) => {
            return new MyLanguage.NumberLiteralExpression(id);
        },
        creator: (data: Partial<MyLanguage.NumberLiteralExpression>) => {
            return MyLanguage.NumberLiteralExpression.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: "LiteralExpression",
        subConceptNames: [],
    };
    concept.properties.set("value", {
        name: "value",
        id: "-id-NumberLiteralExpression-value",
        key: "-key-NumberLiteralExpression-value",
        type: "string",
        isList: false,
        isOptional: false, // false,
        isPublic: true,
        language: "-key-calculator",
        propertyKind: "primitive",
    });

    return concept;
}

function describeBinaryExpression(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "BinaryExpression",
        id: "-id-BinaryExpression",
        key: "-key-BinaryExpression",
        isAbstract: true,
        isPublic: true,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: false,
        trigger: "BinaryExpression",
        constructor: (id?: string) => {
            return null;
        },
        creator: (data: Partial<MyLanguage.BinaryExpression>) => {
            return null;
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: "CalcExpression",
        subConceptNames: ["MultiplyExpression", "PlusExpression", "MinusExpression", "DivideExpression"],
    };

    concept.properties.set("left", {
        name: "left",
        id: "-id-BinaryExpression-left",
        key: "-key-BinaryExpression-left",
        type: "CalcExpression",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });
    concept.properties.set("right", {
        name: "right",
        id: "-id-BinaryExpression-right",
        key: "-key-BinaryExpression-right",
        type: "CalcExpression",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });

    return concept;
}

function describePlusExpression(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "PlusExpression",
        id: "-id-PlusExpression",
        key: "-key-PlusExpression",
        isAbstract: false,
        isPublic: true,
        isLimited: false,
        isNamespace: false,
        instanceNames: [],
        language: "-key-calculator",
        isNamedElement: false,
        trigger: "PlusExpression",
        constructor: (id?: string) => {
            return new MyLanguage.PlusExpression(id);
        },
        creator: (data: Partial<MyLanguage.PlusExpression>) => {
            return MyLanguage.PlusExpression.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        baseName: "BinaryExpression",
        subConceptNames: [],
    };

    concept.properties.set("left", {
        name: "left",
        id: "-id-BinaryExpression-left",
        key: "-key-BinaryExpression-left",
        type: "CalcExpression",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });
    concept.properties.set("right", {
        name: "right",
        id: "-id-BinaryExpression-right",
        key: "-key-BinaryExpression-right",
        type: "CalcExpression",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-calculator",
        propertyKind: "part",
    });

    return concept;
}

function describeINamedConcept(): FreLanguageInterface {
    const intface: FreLanguageInterface = {
        typeName: "INamedConcept",
        id: "-id-INamedConcept",
        key: "-key-INamedConcept",
        isPublic: true,
        isNamedElement: true,
        isNamespace: false,
        properties: new Map<string, FreLanguageProperty>(),
        constructor: undefined,
        creator: undefined,
        language: "calculator",
        subConceptNames: ["InputField"],
    };
    intface.properties.set("name", {
        name: "name",
        id: "-id-INamedConcept-name",
        key: "-key-INamedConcept-name",
        type: "string",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "calculator",
        propertyKind: "primitive",
    });

    return intface;
}
