// Generated by the Freon Language Generator.
// Generated by Freon LanguageTemplate
import {
    FreLanguage,
    type FreLanguageModel,
    type FreLanguageModelUnit,
    type FreLanguageProperty,
    type FreLanguageConcept,
    type FreLanguageInterface,
    FreNodeReference,
} from "@freon4dsl/core";

// Import as MyLanguage to avoid naming conflicts in generated constructors
import * as MyLanguage from "./internal.js";
import { SvelteTestStdlib } from "../../stdlib/gen/SvelteTestStdlib.js";

/**
 * Creates an in-memory representation of structure of the language metamodel, used in e.g. the (de)serializer.
 */
export function initializeLanguage() {
    FreLanguage.getInstance().name = "SvelteTest";
    FreLanguage.getInstance().id = "";
    FreLanguage.getInstance().addModel(describeSvelteTest());
    FreLanguage.getInstance().addUnit(describeSvelteTestUnit());
    FreLanguage.getInstance().addConcept(describeSimpleNode());
    FreLanguage.getInstance().addConcept(describeOtherType());

    FreLanguage.getInstance().addReferenceCreator((name: string, type: string) => {
        return !!name ? FreNodeReference.create(name, type) : null;
    });
    FreLanguage.getInstance().stdLib = SvelteTestStdlib.getInstance();
}

function describeSvelteTest(): FreLanguageModel {
    const model: FreLanguageModel = {
        typeName: "SvelteTest",
        id: "-id-SvelteTest",
        key: "-key-SvelteTest",
        isNamespace: true,
        language: "-key-SvelteTest",
        constructor: (id?: string) => {
            return new MyLanguage.SvelteTest(id);
        },
        // @ts-ignore
        creator: (data: Partial<MyLanguage.SvelteTest>) => {
            return MyLanguage.SvelteTest.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
    };
    model.properties.set("name", {
        name: "name",
        id: "-id-SvelteTest-name",
        key: "-key-SvelteTest-name",
        type: "string",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "primitive",
    });
    model.properties.set("units", {
        name: "units",
        id: "-id-SvelteTest-units",
        key: "-key-SvelteTest-units",
        type: "SvelteTestUnit",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "part",
    });

    return model;
}

function describeSvelteTestUnit(): FreLanguageModelUnit {
    // @ts-ignore
    const modelunit: FreLanguageModelUnit = {
        typeName: "SvelteTestUnit",
        id: "-id-SvelteTestUnit",
        key: "-key-SvelteTestUnit",
        isNamedElement: true,
        language: "-key-SvelteTest",
        fileExtension: "sve",
        subConceptNames: [], // Nothing yet, but may change in the future
        constructor: (id?: string) => {
            return new MyLanguage.SvelteTestUnit(id);
        },
        // @ts-ignore
        creator: (data: Partial<MyLanguage.SvelteTestUnit>) => {
            return MyLanguage.SvelteTestUnit.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        trigger: "SvelteTestUnit",
    };
    modelunit.properties.set("name", {
        name: "name",
        id: "-id-SvelteTestUnit-name",
        key: "-key-SvelteTestUnit-name",
        type: "string",
        isList: false,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "primitive",
    });
    modelunit.properties.set("myList1", {
        name: "myList1",
        id: "-id-SvelteTestUnit-myList1",
        key: "-key-SvelteTestUnit-myList1",
        type: "SimpleNode",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "part",
    });
    modelunit.properties.set("myList2", {
        name: "myList2",
        id: "-id-SvelteTestUnit-myList2",
        key: "-key-SvelteTestUnit-myList2",
        type: "SimpleNode",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "part",
    });
    modelunit.properties.set("myList3", {
        name: "myList3",
        id: "-id-SvelteTestUnit-myList3",
        key: "-key-SvelteTestUnit-myList3",
        type: "OtherType",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "part",
    });
    modelunit.properties.set("myList4", {
        name: "myList4",
        id: "-id-SvelteTestUnit-myList4",
        key: "-key-SvelteTestUnit-myList4",
        type: "SimpleNode",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "part",
    });
    modelunit.properties.set("myList5", {
        name: "myList5",
        id: "-id-SvelteTestUnit-myList5",
        key: "-key-SvelteTestUnit-myList5",
        type: "SimpleNode",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "part",
    });
    modelunit.properties.set("myList6", {
        name: "myList6",
        id: "-id-SvelteTestUnit-myList6",
        key: "-key-SvelteTestUnit-myList6",
        type: "OtherType",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "part",
    });
    modelunit.properties.set("myList7", {
        name: "myList7",
        id: "-id-SvelteTestUnit-myList7",
        key: "-key-SvelteTestUnit-myList7",
        type: "SimpleNode",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "reference",
    });
    modelunit.properties.set("myList8", {
        name: "myList8",
        id: "-id-SvelteTestUnit-myList8",
        key: "-key-SvelteTestUnit-myList8",
        type: "SimpleNode",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "reference",
    });
    modelunit.properties.set("myList9", {
        name: "myList9",
        id: "-id-SvelteTestUnit-myList9",
        key: "-key-SvelteTestUnit-myList9",
        type: "OtherType",
        isList: true,
        isPublic: true,
        isOptional: false,
        language: "-key-SvelteTest",
        propertyKind: "reference",
    });
    return modelunit;
}

function describeSimpleNode(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "SimpleNode",
        id: "-id-SimpleNode",
        key: "-key-SimpleNode",
        isAbstract: false,
        isPublic: true,
        isLimited: false,
        instanceNames: [],
        language: "-key-SvelteTest",
        isNamedElement: true,
        trigger: "SimpleNode",
        constructor: (id?: string) => {
            return new MyLanguage.SimpleNode(id);
        },
        // @ts-ignore
        creator: (data: Partial<MyLanguage.SimpleNode>) => {
            return MyLanguage.SimpleNode.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        // @ts-ignore
        baseName: null,
        subConceptNames: [],
    };
    concept.properties.set("name", {
        name: "name",
        id: "-id-SimpleNode-name",
        key: "-key-SimpleNode-name",
        type: "string",
        isList: false,
        isOptional: false, // false,
        isPublic: true,
        language: "-key-SvelteTest",
        propertyKind: "primitive",
    });

    return concept;
}

function describeOtherType(): FreLanguageConcept {
    const concept: FreLanguageConcept = {
        typeName: "OtherType",
        id: "-id-OtherType",
        key: "-key-OtherType",
        isAbstract: false,
        isPublic: true,
        isLimited: false,
        instanceNames: [],
        language: "-key-SvelteTest",
        isNamedElement: true,
        trigger: "OtherType",
        constructor: (id?: string) => {
            return new MyLanguage.OtherType(id);
        },
        // @ts-ignore
        creator: (data: Partial<MyLanguage.OtherType>) => {
            return MyLanguage.OtherType.create(data);
        },
        properties: new Map<string, FreLanguageProperty>(),
        // @ts-ignore
        baseName: null,
        subConceptNames: [],
    };
    concept.properties.set("name", {
        name: "name",
        id: "-id-OtherType-name",
        key: "-key-OtherType-name",
        type: "string",
        isList: false,
        isOptional: false, // false,
        isPublic: true,
        language: "-key-SvelteTest",
        propertyKind: "primitive",
    });

    return concept;
}
